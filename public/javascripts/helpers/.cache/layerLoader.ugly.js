(function(){"use strict";define(["./symbolHelper","esri/layers/FeatureLayer"],function(e,t){var n,r,i;return n=function(e){var t=new esri.layers.ArcGISDynamicMapServiceLayer(e.url,{id:e.id});return t.title=e.title,t.visible=e.visible,t.setVisibleLayers(e.visibleLayers),e.opacity&&t.setOpacity(e.opacity),e.operational&&(this.operational[this.operational.length]=t),e.identifyCapability.canIdentify&&(t.canIdentify=e.identifyCapability.canIdentify,t.identifyLayers=e.identifyCapability.identifyLayers),t},r=function(n){var r=new t(n.url,{id:n.id,mode:n.mode,outFields:n.outFields});if(n.useRenderer)if(n.rendererType.toLowerCase()==="polygon"){var i=e.polygonSymbol();r.setRenderer(new esri.renderer.SimpleRenderer(i))}else if(n.rendererType.toLowerCase()==="line"){var s=e.selectedLineSymbol();r.setRenderer(new esri.renderer.SimpleRenderer(s))}return r},i=function(){return this.operational=[],this.layersToAdd=[],this},i.prototype.loadLayers=function(e){for(var t=0,i=e.length;t<i;t++){var s=e[t];s.type.toLowerCase()==="dynamic"?this.layersToAdd[this.layersToAdd.length]=n.call(this,s):s.type.toLowerCase()==="feature"&&(this.layersToAdd[this.layersToAdd.length]=r.call(this,s))}return this},i})}).call(this)